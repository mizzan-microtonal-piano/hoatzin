/*
 * fatar_port.c
 *
 *  Created on: Nov 27, 2022
 *      Author: hr193
 */

/* Includes ------------------------------------------------------------------*/
#include "stm32l4xx_hal.h"



GPIO_TypeDef * K_L_T_PORT[] = {GPIOB,GPIOB,GPIOC,GPIOC,GPIOA,GPIOA,GPIOA,GPIOA };
uint16_t K_L_T_PIN[] = {GPIO_PIN_1,GPIO_PIN_0,GPIO_PIN_5,GPIO_PIN_4,GPIO_PIN_7,GPIO_PIN_6,GPIO_PIN_5,GPIO_PIN_4};

GPIO_TypeDef * K_L_MK_PORT[] = {GPIOB,GPIOB,GPIOC,GPIOC,GPIOA};
uint16_t K_L_MK_PIN[] = {GPIO_PIN_6,GPIO_PIN_8,GPIO_PIN_13,GPIO_PIN_15,GPIO_PIN_1};

GPIO_TypeDef * K_L_BR_PORT[] = {GPIOB,GPIOB,GPIOB,GPIOC, GPIOA};
uint16_t K_L_BR_PIN[] = {GPIO_PIN_5,GPIO_PIN_7,GPIO_PIN_9,GPIO_PIN_14,GPIO_PIN_0};

GPIO_TypeDef * K_R_T_PORT[] = {GPIOC,GPIOC, GPIOC, GPIOB,GPIOB,GPIOB,GPIOB,GPIOB};
uint16_t K_R_T_PIN[] = {GPIO_PIN_8,GPIO_PIN_7,GPIO_PIN_6,GPIO_PIN_15,GPIO_PIN_14,GPIO_PIN_13,GPIO_PIN_12,GPIO_PIN_11};

GPIO_TypeDef * K_R_MK_PORT[] = {GPIOA,GPIOA,GPIOC,GPIOC, GPIOB,GPIOB};
uint16_t K_R_MK_PIN[] = {GPIO_PIN_8,GPIO_PIN_10,GPIO_PIN_10,GPIO_PIN_12,GPIO_PIN_4,GPIO_PIN_10};

GPIO_TypeDef * K_R_BR_PORT[] = {GPIOC,GPIOA,GPIOA,GPIOC,GPIOD,GPIOB};
uint16_t K_R_BR_PIN[] = {GPIO_PIN_9,GPIO_PIN_9,GPIO_PIN_15,GPIO_PIN_11,GPIO_PIN_2,GPIO_PIN_2};


void write_K_L_T(int index, GPIO_PinState val){
	HAL_GPIO_WritePin(K_L_T_PORT[index], K_L_T_PIN[index],  val);
}

void write_K_R_T(int index, GPIO_PinState val){
	HAL_GPIO_WritePin(K_R_T_PORT[index], K_R_T_PIN[index],  val);
}

GPIO_PinState read_K_L_MK(int index){
	return HAL_GPIO_ReadPin(K_L_MK_PORT[index], K_L_MK_PIN[index]);
}

GPIO_PinState read_K_L_BK(int index){
	return HAL_GPIO_ReadPin(K_L_BR_PORT[index], K_L_BR_PIN[index]);
}

GPIO_PinState read_K_R_MK(int index){
	return HAL_GPIO_ReadPin(K_R_MK_PORT[index], K_R_MK_PIN[index]);
}

GPIO_PinState read_K_R_BK(int index){
	return HAL_GPIO_ReadPin(K_R_BR_PORT[index], K_R_BR_PIN[index]);
}


uint32_t timer_L_MK2BR[5];
uint32_t timer_L_BR2MK[5];
uint32_t timer_R_MK2BR[6];
uint32_t timer_R_BR2MK[6];

void scan_L_keys(){
	int i,j;

	for(i=0;i<1;i++){
		write_K_L_T(i, 1);
		for(j=0;j<=5;j++){

		}
		write_K_L_T(i, 0);
	}


}


void scan_R_keys(){

}
